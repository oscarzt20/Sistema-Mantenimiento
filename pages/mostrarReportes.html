<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Aplicación Web de Mantenimiento</title>
    <link rel="stylesheet" href="/Styles/mostrarReportes.css">
    <link rel="stylesheet" href="/Styles/estiloGeneral.css">
</head>
<body class="bg-gray-100 font-sans antialiased text-[#333]">
    <!-- Barra de arriba (Header) -->
    <header>
        <nav class="navbar">
            <div class="navbar-brand">Dashboard de Mantenimiento</div>
            <ul class="navbar-menu">
                <li><a href="dashboard.php" style="color: inherit; text-decoration: none;">INICIO</a></li>
                <li class="dropdown">
                    <a href="#" style="color: inherit; text-decoration: none;">EQUIPOS</a>
                    <div class="dropdown-content">
                        <a class="active" href="registroEquipos.html">Registrar Equipo</a>
                        <a href="editarEliminarEquipos.html">Editar/Eliminar Equipo</a>
                    </div>
                </li>
                <li><a href="historialMantenimientos.php"
                        style="color: inherit; text-decoration: none;">MANTENIMIENTOS</a></li>
                <li class="dropdown">
                    <a href="#" style="color: inherit; text-decoration: none;">REPORTES</a>
                    <div class="dropdown-content">
                        <a href="generarReportes.html">Generar Reportes</a>
                        <a href="mostrarReportes.html">Mostrar Reportes</a>
                    </div>
                </li>
                <li class="dropdown">
                    <a>USUARIOS</a>
                    <div class="dropdown-content">
                        <a href="Pantalla 12.html" style="color: inherit; text-decoration: none;">Registro de
                            Usuarios</a>
                        <a href="informacionUsuario.php">Gestionar Usuarios</a>
                        <button class="btt-info" id="cerrarSesion">Cerrar sesión</button>
                    </div>
                </li>
            </ul>
            <div class="navbar-notifications">
                <button class="notification-btn" onclick="toggleDropdown()">
                    Notificaciones <span id="notification-badge" class="badge">0</span>
                </button>
                <div class="notification-dropdown" id="dropdown">
                    <div id="noNotifications" class="no-notifications">No hay notificaciones.</div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Contenido principal -->
    <main class="flex-grow container mx-auto p-6 flex items-center justify-center">
        <section class="bg-white rounded-lg shadow-lg w-full max-w-2xl p-8 text-[#333]">
            <div class="text-center mb-6">
                <h2 class="text-2xl font-bold text-[#333]">REPORTE DE MANTENIMIENTO</h2>
                <p class="text-lg text-right">Folio: <span id="report-folio"></span></p>
            </div>

            <div class="mb-4">
                <p><span class="font-semibold">Nombre del equipo:</span> <span id="report-team-name"></span></p>
                <p><span class="font-semibold">Responsable del equipo:</span> <span id="report-responsible"></span></p>
                <p><span class="font-semibold">Locación:</span> <span id="report-location"></span></p>
                <p><span class="font-semibold">Descripción:</span> <span id="report-description"></span></p>
                <p><span class="font-semibold">Observaciones:</span> <span id="report-observations"></span></p>
            </div>

            <div class="overflow-x-auto mb-4">
                <table class="min-w-full border-collapse border border-[#ccc]">
                    <thead>
                        <tr class="bg-[#e0e0e0]">
                            <th class="border border-[#ccc] p-2">No. de serie</th>
                            <th class="border border-[#ccc] p-2">Fecha de ingreso</th>
                            <th class="border border-[#ccc] p-2">Fecha de salida</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border border-[#ccc] p-2 text-center"><span id="report-serial"></span></td>
                            <td class="border border-[#ccc] p-2 text-center"><span id="report-entry-date"></span></td>
                            <td class="border border-[#ccc] p-2 text-center"><span id="report-exit-date"></span></td>
                        </tr>
                        <!-- Filas adicionales de la tabla se pueden agregar dinámicamente con JS si hubiera más datos tabulares -->
                    </tbody>
                </table>
            </div>

            <div class="text-right mb-6">
                <p class="text-lg"><span class="font-semibold">Totales: $</span> <span id="report-total"></span></p>
            </div>

            <div class="text-center flex justify-center space-x-4">
                <button id="print-button"
                    class="px-6 py-3 bg-[#87ceeb] text-[#1a1a2e] font-semibold rounded-md hover:bg-[#6cbada] focus:outline-none focus:ring-2 focus:ring-[#87ceeb] focus:ring-offset-2">
                    Imprimir
                </button>
                <button id="analyze-report-button"
                    class="px-6 py-3 bg-[#87ceeb] text-[#1a1a2e] font-semibold rounded-md hover:bg-[#6cbada] focus:outline-none focus:ring-2 focus:ring-[#87ceeb] focus:ring-offset-2">
                    Analizar Reporte ✨
                </button>
            </div>

            <div id="analysis-output" class="mt-8 p-4 bg-gray-100 rounded-lg border border-gray-200 hidden">
                <h3 class="text-xl font-semibold mb-2">Análisis del Reporte:</h3>
                <p id="analysis-text" class="text-gray-700"></p>
            </div>
        </section>
    </main>

    <!-- Custom Modal/Message Box -->
    <div id="custom-modal-backdrop" class="custom-modal-backdrop"></div>
    <div id="custom-modal" class="custom-modal">
        <p id="modal-message"></p>
        <div id="modal-buttons" class="custom-modal-buttons">
            <button id="modal-ok-button" class="confirm-btn">OK</button>
            <button id="modal-cancel-button" class="cancel-btn hidden">Cancelar</button>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div id="loading-indicator" class="loading-indicator">Cargando...</div>

    <!-- Script principal de JavaScript -->
    <script src="/scripts/mostrarReporte.js"></script>
</body>
</html>